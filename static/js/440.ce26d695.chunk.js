"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[440],{7832:(e,t,r)=>{r.d(t,{c:()=>a});const a=r(938).c.create({baseURL:"https://sdsdsd-9p5b.onrender.com",headers:{"Content-type":"application/json"}})},5204:(e,t,r)=>{r.d(t,{WI:()=>i,WO:()=>n,g3:()=>c,qu:()=>s});var a=r(7832);async function n(e){try{return(await a.c.get("/api/v1/e2e/".concat(e))).data}catch(t){return t}}async function c(){try{return(await a.c.get("/api/v1/e2e/status")).data}catch(e){return e}}async function i(){try{return(await a.c.get("/api/v1/e2e/totalTests")).data}catch(e){return e}}async function s(e){try{return(await a.c.get("/api/v1/unit/".concat(e))).data}catch(t){return t}}},3500:(e,t,r)=>{r.d(t,{c:()=>x});var a=r(9192),n=r(7088),c=r(3532),i=r(2340),s=r(8424),o=r(1036),l=r(2973),d=r(0);const h={"& .MuiCardHeader-action":{mr:0}},x=(0,a.forwardRef)(((e,t)=>{let{border:r=!0,boxShadow:a,children:x,content:u=!0,contentClass:g="",contentSX:p={},darkTitle:j,secondary:m,shadow:v,sx:b={},title:f,...w}=e;const k=(0,l.c)();return(0,d.jsxs)(n.c,{ref:t,...w,sx:{border:r?"1px solid":"none",borderColor:k.palette.primary.light+25,":hover":{boxShadow:a?v||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},...b},children:[f&&(0,d.jsx)(c.c,{sx:h,title:j?(0,d.jsx)(i.c,{variant:"h3",children:f}):f,action:m}),f&&(0,d.jsx)(s.c,{}),u&&(0,d.jsx)(o.c,{sx:p,className:g,children:x}),!u&&x]})}))},1744:(e,t,r)=>{r.d(t,{c:()=>v});var a=r(3556),n=r(4156),c=r(2168),i=r(6900),s=r(6024),o=r(8436),l=r(2340),d=r(6e3),h=r(2973),x=(r(9192),r(3500)),u=r(7088),g=r(5868),p=r(0);const j=()=>(0,p.jsx)(u.c,{sx:{p:2},children:(0,p.jsx)(n.c,{sx:{py:0},children:(0,p.jsxs)(c.cp,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,p.jsx)(i.c,{children:(0,p.jsx)(g.c,{variant:"rectangular",width:44,height:44})}),(0,p.jsx)(o.c,{sx:{py:0},primary:(0,p.jsx)(g.c,{variant:"rectangular",height:20}),secondary:(0,p.jsx)(g.c,{variant:"text"})})]})})}),m=(0,d.cp)(x.c)((e=>{let{theme:t,backgroundColor:r}=e;return{backgroundColor:"light"===t.palette.mode?r&&r.dark:t.palette.dark.dark,color:r&&r.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(210.04deg, ".concat(r?r[200]:t.palette.warning.dark," -50.94%, rgba(144, 202, 249, 0) 83.49%)"),borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(140.9deg, ".concat(r?r[200]:t.palette.warning.dark," -14.02%, rgba(144, 202, 249, 0) 77.58%)"),borderRadius:"50%",top:-160,right:-130}}})),v=e=>{let{isLoading:t,title:r,subtitle:d,result:x,icon:u,backgroundColor:g}=e;const v=(0,h.c)(),b=(e,t)=>"primary"===e?t.palette.primary:"secondary"===e?t.palette.secondary:void 0;return(0,p.jsx)(p.Fragment,{children:!t&&r&&x?(0,p.jsx)(m,{border:!1,content:!1,backgroundColor:b(g,v),sx:{boxShadow:v.shadows[10]},children:(0,p.jsx)(a.c,{sx:{p:2},children:(0,p.jsx)(n.c,{sx:{py:0},children:(0,p.jsxs)(c.cp,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,p.jsx)(i.c,{children:(0,p.jsx)(s.c,{variant:"rounded",sx:{...v.typography.commonAvatar,...v.typography.largeAvatar,backgroundColor:"light"===v.palette.mode?g?b(g,v)[800]:v.palette.warning.light:v.palette.dark.main,color:g?"#fff":v.palette.warning.dark},children:u})}),(0,p.jsx)(o.c,{sx:{py:0,mt:.45,mb:.45},primary:(0,p.jsx)(l.c,{variant:"h4",sx:{color:g&&"#fff"},children:r}),secondary:(0,p.jsx)(l.c,{variant:"subtitle2",sx:{color:g?"primary.light":v.palette.grey[500],mt:.25},children:d})}),(0,p.jsx)(l.c,{variant:"h2",sx:{color:((e,t)=>"OK"===t?v.palette.success.main:"ERROR"===t?v.palette.orange.dark:e?"#fff":"black")(g,x)},children:x})]})})})}):(0,p.jsx)(j,{})})}},8440:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Q});var a=r(9192),n=r(6784),c=r(5256),i=r(3556),s=r(2328),o=r(584),l=r(2973),d=r(3428),h=r(3500),x=r(1744),u=r(2732),g=r(2392),p=r(8032),j=r(6824),m=r(6448),v=r(9444),b=r(9756),f=r(6764),w=r(2164),k=r(2340),y=r(136),C=r.n(y),R=r(8376),S=r(3988),D=r(3640),M=r(8348),O=r(6536),Y=r(0);const E=(0,a.forwardRef)(((e,t)=>{let{children:r,position:a="top-left",direction:n="up",type:c="grow",...s}=e,o={transformOrigin:"0 0 0"};switch(a){case"top-right":o={transformOrigin:"top right"};break;case"top":o={transformOrigin:"top"};break;case"bottom-left":o={transformOrigin:"bottom left"};break;case"bottom-right":o={transformOrigin:"bottom right"};break;case"bottom":o={transformOrigin:"bottom"};break;default:o={transformOrigin:"0 0 0"}}return(0,Y.jsxs)(i.c,{ref:t,children:["grow"===c&&(0,Y.jsx)(R.c,{...s,children:(0,Y.jsx)(i.c,{sx:o,children:r})}),"collapse"===c&&(0,Y.jsx)(S.c,{...s,sx:o,children:r}),"fade"===c&&(0,Y.jsx)(D.c,{...s,timeout:{appear:500,enter:600,exit:400},children:(0,Y.jsx)(i.c,{sx:o,children:r})}),"slide"===c&&(0,Y.jsx)(M.c,{...s,timeout:{appear:0,enter:400,exit:200},direction:n,children:(0,Y.jsx)(i.c,{sx:o,children:r})}),"zoom"===c&&(0,Y.jsx)(O.c,{...s,children:(0,Y.jsx)(i.c,{sx:o,children:r})})]})})),L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"auto",overflowY:"auto",bgcolor:"background.paper",borderRadius:"8px",boxShadow:24,p:4},N=e=>{let{isLoading:t,data:r}=e;const[n,c]=(0,a.useState)(null),[s,o]=(0,a.useState)(!1),[d,x]=(0,a.useState)(0),[y,R]=(0,a.useState)(10),S=(0,l.c)();return(0,Y.jsx)(Y.Fragment,{children:!t&&r.length>0?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(v.c,{component:g.c,sx:{backgroundColor:"dark"===S.palette.mode?S.palette.dark.dark:S.palette.background.paper,borderRadius:"5px",boxShadow:S.shadows[5]},children:(0,Y.jsxs)(p.c,{children:[(0,Y.jsx)(b.c,{children:(0,Y.jsxs)(w.c,{children:[(0,Y.jsx)(m.c,{children:"Date"}),(0,Y.jsx)(m.c,{children:"Pass"}),(0,Y.jsx)(m.c,{children:"Fail"}),(0,Y.jsx)(m.c,{children:"Skip"})]})}),(0,Y.jsx)(j.c,{children:r.slice(d*y,d*y+y).map((e=>(0,Y.jsxs)(w.c,{onClick:()=>(c(e),void o(!0)),hover:!0,style:{cursor:"pointer"},children:[(0,Y.jsx)(m.c,{children:C()(e.date).format("DD/MM/YY")}),(0,Y.jsx)(m.c,{children:e.pass}),(0,Y.jsx)(m.c,{children:e.fail}),(0,Y.jsx)(m.c,{children:e.skip})]},e.id)))})]})}),(0,Y.jsx)(f.c,{component:"div",count:r.length,rowsPerPage:y,page:d,onPageChange:(e,t)=>{x(t)},onRowsPerPageChange:e=>{R(parseInt(e.target.value,10)),x(0)}}),(0,Y.jsx)(E,{in:s,children:(0,Y.jsx)(u.c,{open:s,onClose:()=>{o(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Y.jsxs)(i.c,{sx:L,children:[(0,Y.jsxs)(k.c,{id:"modal-modal-title",variant:"h3",component:"h2",children:[null===n||void 0===n?void 0:n.title," Test Run at ",C()(null===n||void 0===n?void 0:n.date).format("DD/MM/YY")]}),(0,Y.jsx)(k.c,{id:"modal-modal-description",sx:{mt:2},children:(0,Y.jsx)("iframe",{src:null===n||void 0===n?void 0:n.report_url,title:"Modal Iframe",width:"100%",height:"600px"})})]})})})]}):(0,Y.jsx)(h.c,{sx:{backgroundColor:"dark"===S.palette.mode&&S.palette.dark.dark,borderRadius:"5px",boxShadow:S.shadows[5]},children:(0,Y.jsx)(k.c,{sx:{textAlign:"center"},children:"No Data"})})})};var F=r(2840),P=r(3372),T=r(9416),_=r(364),I=r(3232),U=r(2160),q=r(5176),A=r(6024),z=r(4900);function B(e){let{row:t}=e;const[r,n]=(0,a.useState)(!1),c=t.result[t.result.length-1],s=e=>{const t=parseFloat(e);return t>=90&&t<=100?"success":t>=80&&t<90?"warning":"error"};const o=e=>{window.open("https://github.com/coincover/coincover-b2b2c/pull/".concat(e),"_blank")};return(0,Y.jsxs)(a.Fragment,{children:[(0,Y.jsxs)(w.c,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,Y.jsx)(m.c,{children:(0,Y.jsx)(U.c,{"aria-label":"expand row",size:"small",onClick:()=>n(!r),children:r?(0,Y.jsx)(P.c,{}):(0,Y.jsx)(F.c,{})})}),(0,Y.jsx)(m.c,{component:"th",scope:"row",children:C()(c.date).format("DD/MM/YYYY h:mm:ss")}),(0,Y.jsx)(m.c,{align:"right",onClick:()=>o(t.pull_request),style:{cursor:"pointer",textDecoration:"underline"},children:t.pull_request}),(0,Y.jsx)(m.c,{children:(0,Y.jsx)(q.c,{title:c.author||"Not assigned",children:(0,Y.jsx)(A.c,{alt:c.author,src:"https://ui-avatars.com/api/?name=".concat(c.author,"&background=random&?bold=true")})})}),(0,Y.jsx)(m.c,{children:c.commit}),(0,Y.jsxs)(m.c,{align:"right",children:[(0,Y.jsx)(z.c,{label:"".concat(c.percentage,"%"),color:s(c.percentage),sx:{borderRadius:"5px",width:"100%"}}),function(e){if(!e.result||e.result.length<2)return(0,Y.jsx)(T.c,{});const t=e.result[e.result.length-1],r=e.result[e.result.length-2];if(!t||!r)return"Result data missing";const a=parseFloat(t.percentage),n=parseFloat(r.percentage);return isNaN(a)||isNaN(n)?(0,Y.jsx)(T.c,{}):a>n?(0,Y.jsx)(_.c,{}):a<n?(0,Y.jsx)(I.c,{}):(0,Y.jsx)(T.c,{})}(t)]})]}),(0,Y.jsx)(w.c,{children:(0,Y.jsx)(m.c,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,Y.jsx)(S.c,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,Y.jsxs)(i.c,{sx:{margin:1},children:[(0,Y.jsx)(k.c,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),(0,Y.jsxs)(p.c,{size:"small","aria-label":"purchases",children:[(0,Y.jsx)(b.c,{children:(0,Y.jsxs)(w.c,{children:[(0,Y.jsx)(m.c,{children:"Date"}),(0,Y.jsx)(m.c,{children:"Author"}),(0,Y.jsx)(m.c,{align:"right",children:"Commit"}),(0,Y.jsx)(m.c,{align:"right",children:"Function Coverage"}),(0,Y.jsx)(m.c,{align:"right",children:"Line Coverage"}),(0,Y.jsx)(m.c,{align:"right",children:"Statement Coverage"}),(0,Y.jsx)(m.c,{align:"right",children:"Overall Coverage"})]})}),(0,Y.jsx)(j.c,{children:t.result.map((e=>(0,Y.jsxs)(w.c,{onClick:()=>o(null===t||void 0===t?void 0:t.pull_request),hover:!0,style:{cursor:"pointer"},children:[(0,Y.jsx)(m.c,{component:"th",scope:"row",children:C()(null===e||void 0===e?void 0:e.date).format("DD/MM/YYYY h:mm:ss")}),(0,Y.jsx)(m.c,{children:null===e||void 0===e?void 0:e.author}),(0,Y.jsx)(m.c,{align:"right",children:null===e||void 0===e?void 0:e.commit}),(0,Y.jsx)(m.c,{align:"right",children:(0,Y.jsx)(z.c,{label:"".concat(null===e||void 0===e?void 0:e.function_coverage,"%"),color:s(null===e||void 0===e?void 0:e.function_coverage),variant:"filled",sx:{borderRadius:"5px",width:"100%"}})}),(0,Y.jsx)(m.c,{align:"right",children:(0,Y.jsx)(z.c,{label:"".concat(null===e||void 0===e?void 0:e.line_coverage,"%"),color:s(null===e||void 0===e?void 0:e.line_coverage),variant:"filled",sx:{borderRadius:"5px",width:"100%"}})}),(0,Y.jsx)(m.c,{align:"right",children:(0,Y.jsx)(z.c,{label:"".concat(null===e||void 0===e?void 0:e.statement_coverage,"%"),color:s(null===e||void 0===e?void 0:e.statement_coverage),variant:"filled",sx:{borderRadius:"5px",width:"100%"}})}),(0,Y.jsx)(m.c,{align:"right",children:(0,Y.jsx)(z.c,{label:"".concat(null===e||void 0===e?void 0:e.percentage,"%"),color:s(null===e||void 0===e?void 0:e.percentage),variant:"filled",sx:{borderRadius:"5px",width:"100%"}})})]},null===e||void 0===e?void 0:e.date)))})]})]})})})})]})}const H=e=>{let{isLoading:t,data:r}=e;const n=(0,l.c)(),[c,i]=(0,a.useState)(0),[s,o]=(0,a.useState)(10);return(0,Y.jsx)(Y.Fragment,{children:!t&&r.length>0?(0,Y.jsxs)(v.c,{component:g.c,sx:{backgroundColor:"dark"===n.palette.mode?n.palette.dark.dark:n.palette.background.paper,borderRadius:"5px",boxShadow:n.shadows[5]},children:[(0,Y.jsxs)(p.c,{"aria-label":"collapsible table",children:[(0,Y.jsx)(b.c,{children:(0,Y.jsxs)(w.c,{children:[(0,Y.jsx)(m.c,{}),(0,Y.jsx)(m.c,{children:"Date"}),(0,Y.jsx)(m.c,{align:"right",children:"Pull Request"}),(0,Y.jsx)(m.c,{children:"Author"}),(0,Y.jsx)(m.c,{children:"Commit"}),(0,Y.jsx)(m.c,{align:"right",children:"Overall Coverage"})]})}),(0,Y.jsx)(j.c,{children:r.slice(c*s,c*s+s).map((e=>(0,Y.jsx)(B,{row:e},e.id)))})]}),(0,Y.jsx)(f.c,{component:"div",count:r.length,rowsPerPage:s,page:c,onPageChange:(e,t)=>{i(t)},onRowsPerPageChange:e=>{o(parseInt(e.target.value,10)),i(0)}})]}):(0,Y.jsx)(h.c,{sx:{backgroundColor:"dark"===n.palette.mode&&n.palette.dark.dark,borderRadius:"5px",boxShadow:n.shadows[5]},children:(0,Y.jsx)(k.c,{sx:{textAlign:"center"},children:"No Data"})})})};var W=r(3064),G=r(6820),K=r(5204),V=r(2796);var X=r(5335);function J(e){const t=X.u.find((t=>t.name===e));return t?t.api:e}const Q=e=>{var t,r,u,g;let{title:p}=e;const j=(0,d.OY)(),m=(0,l.c)(),v=(0,d.w1)((0,G.Ix)(J(p))),b=(0,d.w1)((0,G.Sw)(J(p))),[f,w]=(0,a.useState)(!0),[k,y]=(0,a.useState)(0),[C,R]=(0,a.useState)([]),[S,D]=(0,a.useState)(""),[M,O]=(0,a.useState)(""),E=C[C.length-1],L=((e,t,r)=>{const a=((e+r)/(e+t+r)*100).toFixed(0);return isNaN(Number(a))?"No Data":"".concat(a,"%")})(null===E||void 0===E?void 0:E.pass,null===E||void 0===E?void 0:E.fail,null===E||void 0===E?void 0:E.skip);return(0,a.useEffect)((()=>{(async()=>{try{w(!0),S!==J(p)&&(await j((e=J(p),async(t,r)=>{const a=r().unitReducer[e],n=Date.now();if(!a||0===a.length||n-a.lastUpdated>6e5)try{const r=await(0,K.qu)(e);return t({type:V.Ce,payload:{issueType:e,data:r,lastUpdated:n}}),r}catch(c){throw console.error("Error retrieving data:",c),c}return a})),D(J(p))),M!==J(p)&&(await j((e=>async(t,r)=>{const a=r().e2eReducer[e],n=Date.now();if(!a.data||0===a.data.length||n-a.lastUpdated>6e5)try{const r=await(0,K.WO)(e);return t({type:V.ip,payload:{issueType:e,data:r,lastUpdated:n}}),r}catch(c){throw console.error("Error retrieving data:",c),c}return a})(J(p))),O(J(p))),w(!1)}catch(t){console.error("Error fetching data:",t)}finally{w(!1)}var e})()}),[j,p,b,M,S,v,k]),(0,a.useEffect)((()=>{const e=b.data.map((e=>({...e,title:p})));e.sort(((e,t)=>{const r=new Date(e.date);return new Date(t.date).getTime()-r.getTime()})),R(e)}),[b,p,k]),(0,Y.jsx)(h.c,{title:"".concat(0===k?"Unit":"E2E"," Test Result: ").concat(p),sx:{boxShadow:m.shadows[6]},children:(0,Y.jsx)(c.cp,{container:!0,spacing:W.ox,children:(0,Y.jsx)(c.cp,{item:!0,xs:12,children:(0,Y.jsxs)(c.cp,{container:!0,spacing:W.ox,children:[(0,Y.jsx)(c.cp,{item:!0,sm:6,xs:12,md:6,lg:4,children:(0,Y.jsx)(x.c,{isLoading:f,title:"Latest E2E Run",result:L,icon:(0,Y.jsx)(n.c,{fontSize:"inherit"}),backgroundColor:"primary"})}),(0,Y.jsx)(c.cp,{item:!0,sm:6,xs:12,md:6,lg:4,children:(0,Y.jsx)(x.c,{isLoading:f,title:"Latest Unit Run",result:null!==(t=v.data[0])&&void 0!==t&&null!==(r=t.result[0])&&void 0!==r&&r.percentage?"".concat(null===(u=v.data[0])||void 0===u||null===(g=u.result[0])||void 0===g?void 0:g.percentage,"%"):"No Data",icon:(0,Y.jsx)(n.c,{fontSize:"inherit"}),backgroundColor:"secondary"})}),(0,Y.jsx)(c.cp,{item:!0,xs:12,children:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(i.c,{sx:{width:"100%",bgcolor:"background.paper"},children:(0,Y.jsxs)(s.c,{value:k,onChange:(e,t)=>{y(t)},"aria-label":"disabled tabs example",children:[(0,Y.jsx)(o.c,{label:"Unit Test"}),(0,Y.jsx)(o.c,{label:"E2E Test"})]})}),(0,Y.jsx)(Z,{value:k,index:0,children:f?(0,Y.jsx)("div",{children:"Loading..."}):(0,Y.jsx)(H,{data:v.data,isLoading:f})}),(0,Y.jsx)(Z,{value:k,index:1,children:f?(0,Y.jsx)("div",{children:"Loading..."}):(0,Y.jsx)(N,{data:b.data,isLoading:f})})]})})]})})})})},Z=e=>{let{children:t,value:r,index:a}=e;return(0,Y.jsx)("div",{role:"tabpanel",hidden:r!==a,children:r===a&&(0,Y.jsx)(i.c,{children:t})})}},6820:(e,t,r)=>{r.d(t,{Ix:()=>d,Sw:()=>h,cr:()=>s,kV:()=>o,oH:()=>l});var a=r(819);const n=e=>e.jiraReducer,c=e=>e.unitReducer,i=e=>e.e2eReducer,s=(0,a.M3)([n],(e=>e.bugData)),o=(0,a.M3)([n],(e=>e.defectData)),l=(0,a.M3)([n],(e=>e.securityData)),d=e=>(0,a.M3)([c],(t=>t[e])),h=e=>(0,a.M3)([i],(t=>t[e]))}}]);
//# sourceMappingURL=440.ce26d695.chunk.js.map